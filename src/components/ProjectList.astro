---
import { getCollection } from "astro:content"
 
const projects = await getCollection('projects')
const sortedProjects = projects.sort((a, b) => a.data.sortOrder - b.data.sortOrder)
---

<section id="projects" class="py-16 bg-slate-900/50 backdrop-blur-sm">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        My <span class="bg-gradient-to-r from-sky-400 to-cyan-400 bg-clip-text text-transparent">Projects</span>
      </h2>
      <div class="w-20 h-1 bg-gradient-to-r from-sky-500 to-cyan-500 mx-auto mb-6"></div>
      <p class="text-slate-400 max-w-2xl mx-auto">
        Here are some of my recent companies that I have worked with. On each one I have developed solutions to solve specific problems and deliver exceptional user experiences.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {sortedProjects.map(project => (
        <div class="bg-slate-800/50 rounded-xl p-6 hover:bg-slate-700/50 transition-colors">
          <div class="flex items-center mb-4">
            {project.data.img && (
              <img 
                src={project.data.img} 
                alt={project.data.name}
                class="w-12 h-12 object-contain mr-4"
                loading="lazy"
              />
            )}
            <div>
              <h3 class="text-xl font-bold text-white">{project.data.name}</h3>
              {project.data.company && (
                <p class="text-sm text-slate-400">{project.data.company}</p>
              )}
            </div>
          </div>
          
          <p class="text-slate-300 mb-4">{project.data.description}</p>
          
          <div class="flex flex-wrap gap-2 mt-4">
            {project.data.technologies?.map(tech => (
              <span class="px-2 py-1 text-xs rounded bg-cyan-500/10 text-cyan-400">
                {tech}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
